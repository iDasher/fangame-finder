---
import Link from '@/components/Link.astro'
import ThemeToggle from '@/components/ThemeToggle.astro'
import MobileMenu from '@/components/ui/mobile-menu'
import { NAV_LINKS, SITE } from '@/consts'
import { Image } from 'astro:assets'
import logo from '../../public/static/logo.svg'
import SearchBar from '@/components/SearchBar'
import { getFangames } from '@/lib/getFangames'

const fangames = await getFangames()
---

<header transition:persist>
  <div class="mx-auto flex max-w-3xl items-center justify-between gap-4 px-4 py-3">
    
    <div class="flex gap-2 w-full max-w-xs">
      <SearchBar client:load fangames={fangames} />
    </div>

    <!-- New custom nav -->
    <div class="flex items-center sm:gap-4">
      <nav class="hidden items-center gap-4 text-sm sm:flex sm:gap-6">
        <Link href="/saved" class="text-foreground/60 hover:text-foreground/80 capitalize transition-colors">
          View Saved
        </Link>
        <Link href="/describe" class="text-foreground/60 hover:text-foreground/80 capitalize transition-colors">
          ML Search
        </Link>
        <Link href="/all" class="text-foreground/60 hover:text-foreground/80 capitalize transition-colors">
          View All
        </Link>
      </nav>
      <MobileMenu client:load transition:persist />
      <ThemeToggle transition:persist />
    </div>
  </div>
</header>
